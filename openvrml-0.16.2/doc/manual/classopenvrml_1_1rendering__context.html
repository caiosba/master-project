<!doctype html public "-//W3C//DTD HTML 4.01 Transitional//EN"
               "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<title>OpenVRML: openvrml::rendering_context Class Reference</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<link rel="icon" href="../vrml-16">
<link rel="start" href="http://openvrml.org/index" title="OpenVRML Home">
<link rel="prev" href="http://openvrml.org/discussion" title="Discussion">
<link rel="contents" href="index" title="Documentation Main Page">
<link rel="index" href="functions" title="OpenVRML Compound Members">
<link rel="appendix" href="conformance" title="Conformance Test Results">
<style type="text/css">
@import url("doxygen.css");
@import url("tabs.css");
@import url("http://openvrml.org/openvrml.css");

body, td {
  font-size: 100%;
}

p, center, td, th, ul, dl, div {
  font-family: inherit;
}

div.nav {
  background-color: transparent;
  text-align: left;
  margin-top: 1em;
  margin-bottom: 1em;
  border-color: black;
  border-left: none;
  border-right: none;
  padding-top: 0.5em;
  padding-bottom: 0.5em;
}

div.nav a.el:link, div.nav a.el:visited {
  border-width: 1px;
  border-style: solid;
  border-color: silver;
  padding: 2px;
}

div.nav a.el:link:hover, div.nav a.el:visited:hover {
  border-style: outset;
  border-color: gray;
}

div.nav a.el:active {
  border-style: inset;
  border-color: gray;
}

.body td {
  background-color: transparent;
}

div.qindex {
  background-color: transparent;
  border: none;
}
a {
  color: inherit;
}
a.qindex {
  text-decoration: inherit;
  color: inherit;
  padding: 0;
}
a.qindex:visited {
  text-decoration: inherit;
  font-weight: inherit;
  color: inherit;
  padding: 0;
}
a.qindex:hover {
  text-decoration: inherit;
  background-color: transparent;
  padding: 0;
}
a.qindexHL {
  text-decoration: inherit;
  font-weight: inherit;
  background-color: transparent;
  color: inherit;
  padding: 0;
}
a.qindexHL:hover {
  text-decoration: inherit;
  background-color: transparent;
  color: inherit;
  padding: 0;
}
a.qindexHL:visited {
  text-decoration: inherit;
  background-color: transparent;
  color: inherit;
}
a.el {
  text-decoration: inherit;
  font-weight: inherit
}
a.elRef {
  font-weight: inherit
}
a.code {
  text-decoration: inherit;
  font-weight: inherit;
  color: inherit;
}
a.codeRef {
  font-weight: normal;
  color: inherit;
}
a:hover {
  text-decoration: inherit;
  background-color: inherit;
}

h1 {
  line-height: 1.2em;
}

div.qindex {
  font-size: smaller;
}

div.qindex .qindex:link, div.qindex .qindex:visited {
  font-weight: inherit;
}

div.qindex .qindexHL:link, div.qindex .qindexHL:visited {
  font-weight: bold;
}

.memItemLeft, .memItemRight,
.memTemplParams, .memTemplItemLeft, .memTemplItemRight,
.memproto, .memproto td {
  font-family: "Bitstream Vera Sans Mono",
               "LucidaTypewriter",
               "Lucida Console",
               monospace;
}

td.memItemLeft, td.memItemRight, td.mdescLeft, td.mdescRight {
  background-color: rgb(95%, 95%, 95%);
}

.mdTable {
  background-color: rgb(95%, 95%, 95%);
}

.memproto td code {
  font-family: sans-serif;
  font-style: italic;
}

td.pass {
  background-color: rgb(50%, 100%, 50%);
}

td.fail {
  background-color: rgb(100%, 50%, 50%);
}

td.invalid {
  background-color: rgb(75%, 75%, 75%);
}

.memitem {
  background-color: rgb(95%, 95%, 95%);
  border-color: rgb(80%, 80%, 80%);
}

.memproto {
  background-color: rgb(90%, 90%, 90%);
  border-color: rgb(65%, 65%, 65%);
  font-weight: inherit;
}

.memname {
  font-weight: inherit;
}

div.tabs {
  background-image: url("tab_b-openvrml.png");
}

div.tabs span {
  background-image: url("tab_l-openvrml.png");
}

div.tabs a {
  background-image: url("tab_r-openvrml.png");
  border-bottom: 1px solid #a5a5a5;
}

div.tabs a:link, div.tabs a:visited, div.tabs a:active, div.tabs a:hover {
  color: black;
}

table {
  border-collapse: collapse;
  border-spacing: 0;
}
</style>
</head>
<body>
<table class="sitenav">
  <tr>
    <th><a href="http://openvrml.org/index" title="Home">Home</a></th>
    <th><a href="http://openvrml.org/download" title="Download">Download</a></th>
    <th><a href="http://openvrml.org/screenshots/index" title="Screen shots">Screen shots</a></th>
    <th><a href="http://openvrml.org/discussion" title="Mailing lists and IRC">Discussion</a></th>
    <th>Documentation</th>
  </tr>
</table>
<div class="body">
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespaceopenvrml.html">openvrml</a>::<a class="el" href="classopenvrml_1_1rendering__context.html">rendering_context</a></div>
<h1>openvrml::rendering_context Class Reference</h1><!-- doxytag: class="openvrml::rendering_context" --><a href="classopenvrml_1_1rendering__context-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Information needed during a render traversal. 
<p>
The members could be arguments to the Node::render method, but there may be many arguments, and adding an argument requires changing nearly every file in the core.<p>
WARNING: This is a concrete base class that is passed by value, not by reference. The idea is to pass everything exactly as if it were a normal argument to the render function. This has some consequences...<p>
First off, the members should be primitives or pointers. There shouldn't be anything that requires a lot of work to copy. Calling render() should be cheap. Secondly, while adding a new member to this class is less work than adding a new argument to every node::render call, it still requires a recompile of nearly the whole core. That's because pass-by-value needs to know the exact size of what's being passed. Thirdly, you can't subclass this class. It's concrete. If you pass a subclass it will just get truncated.<p>
Why do it this way? Because it makes writing the node::render method easier. We don't have to maintain a stack of states, we just use the call stack instead. That means no heap allocation and deallocation, which is very cool. Also, we don't have to pop the stack at the end of the method. Alternatively, I could have used the "initialization is resource acquisition" pattern, but I felt this was cleaner.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Christopher K. St. John</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd>node::render <p>
<a class="el" href="classopenvrml_1_1browser.html#62edbf18078d521bc6a78fc5fa6a18b1">browser::render</a> </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopenvrml_1_1rendering__context.html#10809e405f4eb82da728c057de828a0c">rendering_context</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructs an empty render context.  <a href="#10809e405f4eb82da728c057de828a0c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopenvrml_1_1rendering__context.html#afb80314f59d95258dbaa6de6179da99">rendering_context</a> (<a class="el" href="classopenvrml_1_1bounding__volume.html#36d4be49f7cbe78fb107e2398be04fb2">bounding_volume::intersection</a> <a class="el" href="classopenvrml_1_1rendering__context.html#948475d83c96aacc12d5656690435e8f">cull_flag</a>, <a class="el" href="classopenvrml_1_1mat4f.html">mat4f</a> &amp;<a class="el" href="classopenvrml_1_1rendering__context.html#c63cc1b052c6e5b2f6e8607823db26b1">modelview</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructs and initializes a render context.  <a href="#afb80314f59d95258dbaa6de6179da99"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classopenvrml_1_1mat4f.html">mat4f</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopenvrml_1_1rendering__context.html#1d167921cd2ad2359da796d436a6de68">matrix</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a reference to the modelview matrix.  <a href="#1d167921cd2ad2359da796d436a6de68"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopenvrml_1_1rendering__context.html#99a173961e4014f1b1efff2025af33b5">matrix</a> (<a class="el" href="classopenvrml_1_1mat4f.html">mat4f</a> &amp;<a class="el" href="classopenvrml_1_1rendering__context.html#c63cc1b052c6e5b2f6e8607823db26b1">modelview</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the modelview matrix.  <a href="#99a173961e4014f1b1efff2025af33b5"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classopenvrml_1_1bounding__volume.html#36d4be49f7cbe78fb107e2398be04fb2">bounding_volume::intersection</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopenvrml_1_1rendering__context.html#948475d83c96aacc12d5656690435e8f">cull_flag</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Track the results of intersecting node bounds with the view volume.  <a href="#948475d83c96aacc12d5656690435e8f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopenvrml_1_1rendering__context.html#3eb34106163aa852381f57fc9997e093">draw_bounding_spheres</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Draw the bounding volumes or not.  <a href="#3eb34106163aa852381f57fc9997e093"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classopenvrml_1_1mat4f.html">mat4f</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopenvrml_1_1rendering__context.html#c63cc1b052c6e5b2f6e8607823db26b1">modelview</a></td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="10809e405f4eb82da728c057de828a0c"></a><!-- doxytag: member="openvrml::rendering_context::rendering_context" ref="10809e405f4eb82da728c057de828a0c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">openvrml::rendering_context::rendering_context           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructs an empty render context. 
<p>
An empty context should not be passed to VrmlNode::render. This constructor is useful only for debugging and experimentation. 
</div>
</div><p>
<a class="anchor" name="afb80314f59d95258dbaa6de6179da99"></a><!-- doxytag: member="openvrml::rendering_context::rendering_context" ref="afb80314f59d95258dbaa6de6179da99" args="(bounding_volume::intersection cull_flag, mat4f &amp;modelview)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">openvrml::rendering_context::rendering_context           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classopenvrml_1_1bounding__volume.html#36d4be49f7cbe78fb107e2398be04fb2">bounding_volume::intersection</a>&nbsp;</td>
          <td class="paramname"> <em>cull_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classopenvrml_1_1mat4f.html">mat4f</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>modelview</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructs and initializes a render context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cull_flag</em>&nbsp;</td><td>the cull flag argument will normally be <a class="el" href="classopenvrml_1_1bounding__volume.html#36d4be49f7cbe78fb107e2398be04fb20808b90eba80e6e4480b1a41e6d135a5">bounding_volume::partial</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>modelview</em>&nbsp;</td><td>The modelview matrix. The transform can be affine, but the rendering code may take advantage of an orthogonal transform if one is passed in.</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classopenvrml_1_1rendering__context.html#948475d83c96aacc12d5656690435e8f">cull_flag</a> </dd></dl>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="1d167921cd2ad2359da796d436a6de68"></a><!-- doxytag: member="openvrml::rendering_context::matrix" ref="1d167921cd2ad2359da796d436a6de68" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classopenvrml_1_1mat4f.html">openvrml::mat4f</a> &amp; openvrml::rendering_context::matrix           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a reference to the modelview matrix. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the modelview matrix. </dd></dl>

</div>
</div><p>
<a class="anchor" name="99a173961e4014f1b1efff2025af33b5"></a><!-- doxytag: member="openvrml::rendering_context::matrix" ref="99a173961e4014f1b1efff2025af33b5" args="(mat4f &amp;modelview)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void openvrml::rendering_context::matrix           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classopenvrml_1_1mat4f.html">mat4f</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>modelview</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the modelview matrix. 
<p>
A <a class="el" href="classopenvrml_1_1rendering__context.html">rendering_context</a> retains a pointer to the passed matrix; it does not make a copy. All memory management is up to the caller. In practice, the passed-in array will generally be a local variable in the node::render method.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>modelview</em>&nbsp;</td><td>the modelview matrix. Must be at least affine, although the render code may optimize for orthogonal transforms. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="c63cc1b052c6e5b2f6e8607823db26b1"></a><!-- doxytag: member="openvrml::rendering_context::modelview" ref="c63cc1b052c6e5b2f6e8607823db26b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classopenvrml_1_1mat4f.html">openvrml::mat4f</a> * <a class="el" href="classopenvrml_1_1rendering__context.html#c63cc1b052c6e5b2f6e8607823db26b1">openvrml::rendering_context::modelview</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The current modelview matrix. 
</div>
</div><p>
<a class="anchor" name="948475d83c96aacc12d5656690435e8f"></a><!-- doxytag: member="openvrml::rendering_context::cull_flag" ref="948475d83c96aacc12d5656690435e8f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">openvrml::bounding_volume::Intersection <a class="el" href="classopenvrml_1_1rendering__context.html#948475d83c96aacc12d5656690435e8f">openvrml::rendering_context::cull_flag</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Track the results of intersecting node bounds with the view volume. 
<p>
Setting to <a class="el" href="classopenvrml_1_1bounding__volume.html#36d4be49f7cbe78fb107e2398be04fb21926422b4cef2df89bc170f35aa2ebba">bounding_volume::inside</a> means that all the last tested bounding volume was completely inside the view volume, so all the contained bounding volumes must also be inside and we can skip further testing. <a class="el" href="classopenvrml_1_1bounding__volume.html#36d4be49f7cbe78fb107e2398be04fb20808b90eba80e6e4480b1a41e6d135a5">bounding_volume::partial</a> means that the last test indicated that the bounding volume intersected the view volume, so some of the children may be visible and we must continue testing. <a class="el" href="classopenvrml_1_1bounding__volume.html#36d4be49f7cbe78fb107e2398be04fb28352ecf3d00d5af17d22b91a761f84db">bounding_volume::outside</a> means the last test indicated the bounding volume was completely outside the view volume. However, there's normally no reason to call set with <a class="el" href="classopenvrml_1_1bounding__volume.html#36d4be49f7cbe78fb107e2398be04fb28352ecf3d00d5af17d22b91a761f84db">bounding_volume::outside</a>, since the render method returns immediately. But who knows; it might be useful some day, so it's an allowed value.<p>
Setting the cull flag to <a class="el" href="classopenvrml_1_1bounding__volume.html#36d4be49f7cbe78fb107e2398be04fb21926422b4cef2df89bc170f35aa2ebba">bounding_volume::inside</a> in the Browser at the top of the traversal has the effect of disabling the culling tests. The behavior is undefined if the flag is not one of the allowed values.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classopenvrml_1_1browser.html">openvrml::browser</a> <p>
<a class="el" href="classopenvrml_1_1bounding__volume.html">openvrml::bounding_volume</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="3eb34106163aa852381f57fc9997e093"></a><!-- doxytag: member="openvrml::rendering_context::draw_bounding_spheres" ref="3eb34106163aa852381f57fc9997e093" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classopenvrml_1_1rendering__context.html#3eb34106163aa852381f57fc9997e093">openvrml::rendering_context::draw_bounding_spheres</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Draw the bounding volumes or not. 
<p>
If true, then the renderer may draw the bounding volumes for each primitive. Or maybe not, so you shouldn't depend on this behavior. It does look kinda cool though. 
</div>
</div><p>
</div>
<address class="footer"><a href="http://sourceforge.net"><img src="http://sourceforge.net/sflogo.php?group_id=7151&amp;type=3" width="125" height="37" border="0" alt="SourceForge.net Logo" align="right"></a><a href="http://sourceforge.net/tracker/?func=add&amp;group_id=7151&amp;atid=107151">Report error</a><br>Generated Tue Nov 28 16:06:32 2006 by Doxygen 1.5.1</address>
</body>
</html>
